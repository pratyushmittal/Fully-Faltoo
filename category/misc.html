<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Pratyush Mittal">
    <title>A Fully-Faltoo Blog
    </title>    <link href="http://feeds.feedburner.com/fullyfaltoo" type="application/rss+xml" rel="alternate" title="A Fully-Faltoo Blog RSS Feed">    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/favicon.ico" type="image/x-icon" rel="icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="/theme/css/css.css">  </head>
  <body>
    <div class="wrapper">
      <div class="section intro right">
        <div class="navigation">
          <ul>            <li><a href="http://twitter.com/faltoo">@faltoo</a>
            </li>            <li class="active"><a href="/">Diary</a>
            </li>
            <li class=""><a href="/archives.html">Archives</a>
            </li>            <li class=""><a href="http://fully-faltoo.com/pages/poke.html">Poke Me!</a>
            </li>          </ul>
        </div>
        <div class="fix">
        </div>
      </div>
      <div class="sidebar logo left">
        <div class="logo center"><a href="/"><img src="/theme/images/logo100.png" alt="Pratyush - A <GeeK>!!!"></a>
        </div>
      </div>
      <div class="section main right">
        <div class="white"><article class="entry">
  <div class="page-header">
    <h1><a href="2013/07/06/git-symlinks/">Relative symlinks in Git using subtree</a>    </h1>
    <p class="meta sub"><a href="2013/07/06/git-symlinks/"><small>Sat 06 July 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><p>I have two separate projects and both use a common set of directories. Since both the projects are under active development, I symlinked the common files. Thus the changes were incorporated in both the projects. <strong>However, git <em>does not</em> follow the symbolic links and instead saves its contents.</strong></p>
<p>To solve it I:</p>
<ol>
<li>Copied one of the projects into the another as a subdirectory using subtree.</li>
<li>Created symlinks from inside this subtree directory.</li>
<li>Changed the absolute paths of symbolic links into relative paths.</li>
<li>Automated all of the above into a script.</li>
</ol>
<h2>Detailed steps</h2>
<p><strong>Step 1:</strong> Subtree is useful (and better than submodule) for including a project into another project as a subdirectory. The main advantage is that the changes are both downstream as well as upstream. I followed <a href="http://www.codeproject.com/Articles/562950/GitplusSubtreeplusMergeplus-e2-80-93TheplusQuickpl">this post</a> to include the project as subtree sub-directory.</p>
<p><strong>Step 2:</strong> Next step was to convert all the old symlinks (directly from main project) to symlinks from the new subtree directory. To find all the symbolic links in a directory use <code>$ find /path -type l</code>.</p>
<p><strong>Step 3:</strong> The symlinks created usually contain absolute file paths (even though they might be in the same git project). Use the <a href="http://bashscripts.org/forum/viewtopic.php?f=8&amp;t=457">symlinks utility</a> to convert all the symlinks from absolute paths to relative paths.</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install symlinks
<span class="nv">$ </span>symlinks -tscr .  <span class="c"># Preview changes</span>
<span class="nv">$ </span>symlinks -scr .   <span class="c"># Execute changes</span>
</pre></div>


<p><strong>Step 4:</strong> To automate all of the above, I compiled and saved the above commands in a fab file to run while committing the changes.</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">sync_down</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Syncs downstream from remote to local branch&quot;&quot;&quot;</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;git checkout remote_branch&quot;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;git pull&quot;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;git checkout master&quot;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&#39;git merge --squash -s subtree &#39;</span>
          <span class="s">&#39;--no-commit &#39;</span>
          <span class="s">&#39;remote_branch&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">sync_up</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Syncs upstream from local to remote branch&quot;&quot;&quot;</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;git checkout remote_branch&quot;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&#39;git merge --squash -s subtree &#39;</span>
          <span class="s">&#39;--no-commit &#39;</span>
          <span class="s">&#39;master&#39;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&#39;git add . -A&#39;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&#39;git commit -m &quot;Merged changes from remote&quot;&#39;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;git push remote remote_branch:master&quot;</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;git checkout master&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">sync_all</span><span class="p">():</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;symlinks -scr .&quot;</span><span class="p">)</span>
    <span class="n">sync_down</span><span class="p">()</span>
    <span class="n">sync_up</span><span class="p">()</span>
</pre></div>


<p>I agree that this is a very hacky way to achieve a simple following of symlinks. However, all the <a href="http://stackoverflow.com/questions/86402/how-can-i-get-git-to-follow-symlinks">other</a> <a href="http://stackoverflow.com/questions/1500772/getting-git-to-follow-symlinks-again">workarounds</a> looked as bad. </p>
    </div>
  </div>
</article><article class="entry">
  <div class="page-header">
    <h1><a href="http://blog.alexgodin.com/post/47045832186/how-to-get-lost-users-to-come-back-to-your-product" class="external">Getting the users back</a>    </h1>
    <p class="meta sub"><a href="2013/04/05/go-viral/"><small>Fri 05 April 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><p>A brilliant write-up on "How to Get Lost users to Come Back to Your Product - Five Lessons From Facebook"</p>
    </div>
  </div>
</article><article class="entry">
  <div class="page-header">
    <h1><a href="http://query.nytimes.com/mem/archive-free/pdf?res=F40F10FB355B1B7A93C3A8178ED85F458285F9" class="external">Thomas Edison's questions to job candidates</a>    </h1>
    <p class="meta sub"><a href="2013/02/23/edisons-questions/"><small>Sat 23 February 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><p>Came across <a href="http://query.nytimes.com/mem/archive-free/pdf?res=F40F10FB355B1B7A93C3A8178ED85F458285F9">this</a> New York Times article which shares about the Edison's list of questions for job candidates in his plant.</p>
<p>Of-course the list has a few questions which would have been relevant in those particular years (around 1921), but it can be great if we can modernise this list.</p>
<p><em>Just in case the original link does not work, <a href="http://fully-faltoo.com/static/uploads/edisons-questions.pdf">here is the pdf</a>.</em></p>
    </div>
  </div>
</article><article class="entry">
  <div class="page-header">
    <h1><a href="2013/02/16/triumph-defeat/">Triumph and Defeat - Atul Gawande</a>    </h1>
    <p class="meta sub"><a href="2013/02/16/triumph-defeat/"><small>Sat 16 February 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><blockquote>
<p>“A failure often does not have to be a failure at all. However, you have to be ready for it. Will you admit when things go wrong? Will you take steps to set them right? Because the difference between triumph and defeat, you’ll find, isn’t about willingness to take risks. It’s about mastery of rescue.” – <strong>Atul Gawande</strong>, <a href="http://www.newyorker.com/online/blogs/newsdesk/2012/06/atul-gawande-failure-and-rescue.html">2012 Williams College Commencement Address</a></p>
</blockquote>
    </div>
  </div>
</article><article class="entry">
  <div class="page-header">
    <h1><a href="2013/02/04/bill-gates-letter/">An Open Letter to Hobbyists</a>    </h1>
    <p class="meta sub"><a href="2013/02/04/bill-gates-letter/"><small>Mon 04 February 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><p>Bill Gates hits the bulls-eye in this open letter dated February 3, 1976. The line that strikes me the most is that <em>"most of you steal your software. Hardware must be paid for, but software is something to share."</em> Something that is abnormally common in India.</p>
<p>The complete letter (via <a href="http://www.lettersofnote.com/2009/10/most-of-you-steal-your-software.html">LettersOfNote</a>:</p>
<p><img alt="Open Letter by Bill Gates" src="http://farm3.static.flickr.com/2474/3991297476_1dc98a1d14_o.png" /></p>
<p>I now realise the perils of piracy in India. Being addicted to piracy, and getting mp3s and movies for free, we now assume the net to be free. Software is the last thing we like to pay for. <strong>And probably this is the reason why we neither have "good softwares being written" nor a Facebook or Google marked <em>‘made in India’</em>.</strong></p>
<p><strong><em>Update:</em></strong></p>
<p><a href="http://www.britannica.com/EBchecked/topic/461490/piracy">Bill Gate's response to Windows Piracy in China, in 1998:</a></p>
<blockquote>
<p>Although about 3 million computers get sold every year in China, people don’t pay for the software. Someday they will, though, and as long as they’re going to steal it, we want them to steal ours. <strong>They’ll get sort of addicted, and then we’ll somehow figure out how to collect sometime in the next decade.</strong></p>
</blockquote>
<p>That is actually what is happening now as all the laptops are preloaded with genuine Windows. The lesson can be summarized as:</p>
<p>Step 1: If you want to make a great software, and keep it alive, then make it paid.<br />
Step 2: Don't lose the market. Those who can't pay, give them free and make them addicted.  </p>
    </div>
  </div>
</article><article class="entry">
  <div class="page-header">
    <h1><a href="2013/01/27/office-wine/">Installing Office 2010 on Ubuntu using Wine 1.5</a>    </h1>
    <p class="meta sub"><a href="2013/01/27/office-wine/"><small>Sun 27 January 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><p>I tried various guides on installing Microsoft Office 2010 on Ubuntu using Wine (1.5.22) but none worked. In each case the installer failed the midway. However, since the <a href="http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=17336">official Wine page</a> gives it a rating of Platinum, I finally read through the page and it worked.</p>
<p>Bookmarking the relevant extracts for future.</p>
<blockquote>
<p>Make sure all dependencies of Wine are installed on your system, including winbind.</p>
</blockquote>
<ol>
<li>
<p>Installed the latest Wine version (1.5.22) using Synaptic. It auto installed wine-mono mentioned in the original article.</p>
</li>
<li>
<p>Installed ttf-mscorefonts (i.e. the windows fonts).</p>
<blockquote>
<p>Install Office 2010 to a clean wineprefix--no winetricks or other tweaks, and no other applications installed. Do not change the Windows version in winecfg; it should remain at the default setting of XP.</p>
</blockquote>
</li>
<li>
<p>Reset WineTricks changes: WineTricks &gt;&gt; Select the default wineprefix &gt;&gt; Delete all data and applications. Start WineTricks again to recreate default prefix.</p>
<blockquote>
<p>After installing, set riched20 to native, builtin in winecfg to enable Powerpoint to start and selection boxes to display correctly. Do not use winetricks; Office installs its own riched20 to a private directory, and the one installed by winetricks is insufficient.</p>
</blockquote>
</li>
<li>
<p>Run winecfg &gt;&gt; Libraries &gt;&gt; add riched20 &gt;&gt; edit to select native.</p>
</li>
</ol>
<p>Have been using the the above for quite some time now. It is very stable and looks even more beautiful than on Windows :).</p>
<p><strong><a href="http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=17336">Official Wine Page</a></strong></p>
    </div>
  </div>
</article><article class="entry">
  <div class="page-header">
    <h1><a href="http://xph.us/2013/01/22/inbox-zero-for-life.html" class="external">Zero Inbox with shortcuts</a>    </h1>
    <p class="meta sub"><a href="2013/01/23/zero-inbox-shortcuts/"><small>Wed 23 January 2013</small></a>
    </p>
  </div>
  <div class="page-content">
    <div class="post"><p><a href="http://xph.us/2013/01/22/inbox-zero-for-life.html">This</a> is a powerful guide to Zero-Inbox technique using Gmail shortcuts.</p>
<p><code>e</code>: archive<br />
<code>#</code>: delete<br />
<code>se</code>: star &amp; archive<br />
<code>gi</code>: goto inbox<br />
<code>gs</code>: goto stared mails (do more often than <code>gi</code>)<br />
<code>j</code>: next mail<br />
<code>k</code>: previous mail</p>
<p>While reading the <a href="http://news.ycombinator.com/item?id=5098936">discussion</a> about it, also came across some useful Gmail tips:</p>
<ol>
<li>Use <a href="http://followup.cc">followup.cc</a>.</li>
<li>Enable <a href="http://gmailblog.blogspot.ca/2010/10/new-in-labs-auto-advance-to-next.html">auto-advance</a> in labs.</li>
<li>Enable <a href="http://fully-faltoo.com/2009/03/20/undo-in-gmail/">undo sent</a> if you already haven't.</li>
</ol>
    </div>
  </div>
</article><div class="pagination"><a href="http://fully-faltoo.com/category/misc2.html" class="next right-page">Next page &rarr;</a></div>        </div>
        <div class="section footer right">
        </div>
      </div>
      <div class="sidebar left">
        <div class="white"><img src="http://dl.dropbox.com/u/4607238/profile.jpg">
          <h3>About Me
          </h3>
          <p class="sub">My name is Pratyush Mittal. I am a Chartered Accountant living in Lucknow, India. I love to create financial web-applications and write Python programs. I blog about stocks at <a href='http://dalal-street.in'>Dalal-Street</a>.

          </p>
        </div>
        <div class="white island"><gcse:search></gcse:search><a href="http://feedburner.google.com/fb/a/mailverify?uri=fullyfaltoo" target="_blank" class="no-line"><img src="/theme/images/email.gif"> Get updates via Email
</a><a href="http://feeds.feedburner.com/fullyfaltoo" class="right no-line"><img src="/theme/images/rss.png"> RSS Link
</a>
          <div class="fix">
          </div>
        </div>
        <div class="white island blogroll">
          <h3>Blogroll
          </h3>          <p><a href="http://news.ycombinator.com/">Hacker News</a><small class="sub">: To keep updated with the latest tech developments</small>
          </p>          <p><a href="http://lifehacker.com">LifeHacker</a><small class="sub">: Collection of the best life hacks</small>
          </p>          <p><a href="http://www.screener.in">Screener.in</a><small class="sub">: A Stock Screener and stock analysis tool I am working on</small>
          </p>          <p><a href="http://www.webtrickz.com">WebTrickz</a><small class="sub">: My cousin Mayur's Blog for the best 'web-tricks'</small>
          </p>        </div>
        <footer class="white island">
          <p><small>Designed with &lt;3 in India.
</small>
          </p>
          <p><small>Proudly powered by 
<a href="http://getpelican.com/">Pelican</a>, and hosted on 
<a href="http://python.org">GitHub</a>.
</small>
          </p>
        </footer>
      </div>
      <div class="fix">
      </div>
    </div>    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2456523-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'fully-faltoo';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function() {
    var cx = '009049710563382089934:sftcdudo044';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>  </body>
</html>